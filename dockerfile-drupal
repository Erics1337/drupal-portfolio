# Dockerfile for Drupal 10 with Apache
FROM drupal:10-apache

# Install nano and unzip for editing and extraction purposes (optional)
RUN apt-get update && apt-get install -y nano unzip

# Enable Apache rewrite module for Drupal clean URLs
RUN a2enmod rewrite

# Set the working directory to the project root (where composer.json is located)
WORKDIR /var/www/html

# Copy the entire project to the container
COPY . /var/www/html

# Install Composer dependencies, including Drupal core
RUN composer install
